import {
	BasicDemo,
	BasicWithElement,
	BasicWithProps,
	BasicWithPropsAllowingOverflow,
	BasicWithPropsAllowingOverflowOnlyOneCell,
	NoBorderTableDemo,
	EmbeddedTable,
	EmbeddedTableAsProps,
	TextStyleOverride,
	OnlyTableBolder,
	TableBolderWithMargin,
	TableBorderStyles,
	BgColorAndTextColor,
	Gaps,
	OutboundLabels,
	TableStyles,
} from '@repo/demo-components';

## tables in a table

You can add another table as you want since it is just a SVG.
Here is a basic example.

```typescript
import SVGTable, { TableProps }from '@shjeon0730/svg-table';
import BasicDemo from './BasicDemo';
import BgColorAndTextColor from './BgColorAndTextColor';
import Gaps from './Gaps';
import NoBorderTableDemo from './NoBorderTableDemo';
import OnlyTableBolder from './OnlyTableBolder';
import TableBorderStyles from './TableBorderStyles';

const EmbeddedTable = () => {
 const tableProps: TableProps = {
  columnWidths: [1, 1, 1], // this is just ratio.
  width: 900,
  defaultRowStyle: {
   bgColor: 'yellow',
   height: 50,
  },

  style: {
   rowGaps: 10,
   colGaps: 10,
  },
  rows: [
   {
    style: {
     height: 30,
    },
    cells: [
     {
      content: 'Header 1',
     },
     {
      content: 'Header 2',
     },
     {
      content: 'Header3',
     },
    ],
   },
   {
    style: {
     height: 200,
    },
    cells: [
     { content: <BgColorAndTextColor width={300} /> }, // since there is gaps added, it will be overflow.
     { content: <BasicDemo width={293} /> },
     { content: <Gaps width={293} /> },
    ],
   },
   {
    style: {
     height: 200,
    },
    cells: [
     { content: <NoBorderTableDemo width={293} /> },
     { content: <OnlyTableBolder width={293} /> },
     { content: <TableBorderStyles width={293} /> },
    ],
   },
  ],
 };

 return <SVGTable {...tableProps} />;
};

export default EmbeddedTable;


```

<div className='demo-container'>
	<EmbeddedTable />
</div>

## auto aligned embeded tables

As you see above example, you have to set the table's size manually.
If you want to just add SVGTables in a SVGTable, you can recurrsively add it
without setting individual tables. All internal table properties will
automatically have 100% of the cell size in the padding area.

```typescript
import SVGTable, { CellProps, TableProps } from '@shjeon0730/svg-table';

const embeddedTableProps = (
	color: string,
	columns: number,
	height = 50,
	fontSize = 12
): CellProps => {
	const filled: CellProps = {
		style: { bgColor: color, textColor: 'white' },
		content: 'filled',
	};
	const empty: CellProps = { content: 'empty' };
	const cellStore: CellProps[] = Array(columns + 1)
		.fill('')
		.map((_, idx) => {
			if (idx === 0) {
				if (columns !== 1) {
					return embeddedTableProps(
						color,
						columns - 1,
						height / 3,
						fontSize / 3
					);
				}
				return empty;
			}
			if (idx % 2 === 0) {
				return empty;
			}
			return filled;
		});
	return {
		content: {
			table: {
				defaultCellStyle: {
					borderColors: color,
					borderWidths: 1,
					svgStyle: {
						fontSize,
					},
				},
				defaultRowStyle: {
					height,
				},
				rows: [
					{
						cells: cellStore.slice(0, columns),
					},
					{
						cells: cellStore.slice(1, columns + 1),
					},
					{
						cells: cellStore.slice(0, columns),
					},
				],
			},
		},
	};
};

const tableProps: TableProps = {
	columnWidths: [1, 1, 1], // this is just ratio.
	width: 900,
	defaultRowStyle: {
		bgColor: 'yellow',
		height: 150,
	},

	style: {
		rowGaps: 10,
		colGaps: 10,
	},
	rows: [
		{
			style: {
				height: 30,
			},
			cells: [
				{
					content: 'Header 1',
				},
				{
					content: 'Header 2',
				},
				{
					content: 'Header3',
				},
			],
		},
		{
			cells: [
				embeddedTableProps('red', 2),
				embeddedTableProps('blue', 3),
				embeddedTableProps('green', 4),
			],
		},
		{
			cells: [
				embeddedTableProps('pink', 3),
				embeddedTableProps('cyan', 4),
				embeddedTableProps('lime', 2),
			],
		},
		{
			cells: [
				embeddedTableProps('magenta', 3),
				embeddedTableProps('indigo', 2),
				embeddedTableProps('#296541', 1),
			],
		},
	],
};

export const EmbeddedTableAsProps = () => {
	return <SVGTable {...tableProps} />;
};


```

<div className='demo-container'>
	<EmbeddedTableAsProps />
</div>

## text override

svg-table has class names for individual elements. so you can add css.
but also, you can control individual text's attributes since the attributes are passed by `style.textStyle` option. All possible attributes can be passed to text elements.

using this behavior, we can override text's position, layout, and much more behavior.

in this example, I just overrode the positions of text.

```typescript
import SVGTable, { TableProps }from '@shjeon0730/svg-table';

const textLeftTop = {
 textAnchor: 'start',
 dominantBaseline: 'hanging',
 x: 0,
 y: 0,
};

const TextStyleOverride = ({ width = 500 }: { width?: number }) => {
 const tableProps: TableProps = {
  columnWidths: [100, 300, 200],
  width: width,
  defaultCellStyle: {
   textColor: '#ff0000',
  },
  rows: [
   {
    cells: [
     {
      content: 'Header 1',
      style: {
       bgColor: '#f0f0f0',
       paddings: [10, 4, 0, 0],
       textColor: 'blue',
       textStyle: {
        textAnchor: 'middle',
        dominantBaseline: 'auto',
        fontSize: 10,
       },
      },
     },
     {
      content: 'Header 2',
      colSpan: 2,
      style: {
       textStyle: {
        textAnchor: 'middle',
        dominantBaseline: 'middle',
       },
      },
     },
    ],
   },
   {
    cells: [
     { content: 'test' },
     {
      content: 'Row 1, Cell 2',
      rowSpan: 2,
      style: {
       textStyle: {
        fontSize: 30,
        fontFamily: 'sans-serif',
       },
      },
     },
     {
      content: 'Row 1, Cell 3',
      style: {
       textStyle: textLeftTop,
      },
     },
    ],
   },
   {
    cells: [
     { content: 'Row 2, Cell 1' },
     { content: 'Row 2, Cell 3' },
    ],
   },
  ],
 };

 return <SVGTable {...tableProps} />;
};

export default TextStyleOverride;

```

<div className='demo-container'>
	<TextStyleOverride />
</div>

## Play with styles even more

you can set more advanced styles on your svg.

```typescript
import SVGTable, { TableProps }from '@shjeon0730/svg-table';

const Circle = () => {
 return <ellipse cx={15} cy={15} rx={30} ry={30} fill='cyan' />;
};

const TableStyles = ({ width = 500 }: { width?: number }) => {
 const tableProps: TableProps = {
  columnWidths: [100, 300, 200],
  width: width,

  defaultRowStyle: {
   bgColor: 'yellow',
   height: 50,
  },

  style: {
   // table's border customizations
   rowGaps: 10,
   colGaps: 10,
   margins: [10, 10, 10, 10],
   bgColor: 'lime',
   borderWidths: [2, 2, 2, 2],
   borderColors: ['red', 'green', 'blue', 'purple'],
   borderPatterns: [
    [4, 4],
    [4, 6],
    [0, 6],
    [0, 6],
   ],
   borderShapes: ['butt', 'butt', 'round', 'square'],
  },
  rows: [
   {
    cells: [
     {
      content: <Circle />,
      style: {
       svgStyle: {
        overflow: 'visible', // override internal svg's style
       },
      },
     },
     { content: 'Row 1, Cell 2', rowSpan: 2 },
     { content: 'Row 1, Cell 3' },
    ],
   },
   {
    cells: [
     { content: 'Row 2, Cell 1' },
     { content: 'Row 2, Cell 3' },
    ],
   },
  ],
 };

 return <SVGTable {...tableProps} />;
};

export default TableStyles;

```

by setting `overflow: visible` on the inner svg, we can make the content intentionally overflow.

<div className='demo-container'>
	<TableStyles />
</div>
