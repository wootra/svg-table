import {
	BasicDemo,
	BasicWithElement,
	BasicWithProps,
	BasicWithPropsAllowingOverflow,
	BasicWithPropsAllowingOverflowOnlyOneCell,
	NoBorderTableDemo,
	EmbeddedTable,
	EmbeddedTableAsProps,
	EmbeddedTableAsPropsWithHeight,
	
	OnlyTableBolder,
	TableBolderWithMargin,
	TableBorderStyles,
	BgColorAndTextColor,
	OutboundLabels,
} from '@repo/demo-components';

## tables in a table

You can add another table as you want since it is just a SVG.
Here is a basic example.

<div className='demo-container'>
	<EmbeddedTable />
</div>


<details>
<summary>Code</summary>
```typescript
import SVGTable, { TableProps } from '@shjeon0730/svg-table';
import { BasicDemo } from './BasicDemo';
import { BgColorAndTextColor } from './BgColorAndTextColor';
import { Gaps } from './Gaps';
import { NoBorderTableDemo } from './NoBorderTableDemo';
import { OnlyTableBolder } from './OnlyTableBolder';
import { TableBorderStyles } from './TableBorderStyles';

const tableProps: TableProps = {
	columnWidths: [1, 1, 1], // this is just ratio.
	width: 900,
	defaultRowStyle: {
		bgColor: 'yellow',
		height: 120,
	},

	style: {
		rowGaps: 10,
		colGaps: 10,
	},
	rows: [
		{
			style: {
				height: 30,
			},
			cells: ['Header 1', 'Header 2', 'Header3'],
		},
		[
			{ content: <BgColorAndTextColor width={300} /> }, // since there is gaps added, it will be overflow.
			{ content: <BasicDemo width={293} /> },
			{ content: <Gaps width={293} /> },
		],
		[
			{ content: <NoBorderTableDemo width={293} /> },
			{ content: <OnlyTableBolder width={293} /> },
			{ content: <TableBorderStyles width={293} /> },
		],
	],
};

export const EmbeddedTable = () => {
	return <SVGTable {...tableProps} />;
};

```
</details>

## auto aligned embeded tables

As you see above example, you have to set the table's size manually.
If you want to just add SVGTables in a SVGTable, you can recurrsively add it
without setting individual tables. All internal table properties will
automatically have 100% of the cell size in the padding area.

<div className='demo-container'>
	<EmbeddedTableAsProps />
</div>

<details>
<summary>Code</summary>
```typescript
import SVGTable, {
	CellProps,
	CellPropsAsObj,
	TableProps,
} from '@shjeon0730/svg-table';

const embeddedTableProps = (
	color: string,
	columns: number,
	height = 50,
	fontSize = 12
): CellPropsAsObj => {
	const filled: CellProps = {
		style: { bgColor: color, textColor: 'white' },
		content: 'filled',
	};
	const empty: CellProps = { content: 'empty' };
	// below logic make the nested table recurrsively.
	const cellStore: CellProps[] = Array(columns + 1)
		.fill('')
		.map((_, idx) => {
			if (idx === 0) {
				if (columns !== 1) {
					return embeddedTableProps(
						color,
						columns - 1,
						height / 3,
						fontSize / 3
					);
				}
				return empty;
			}
			if (idx % 2 === 0) {
				return empty;
			}
			return filled;
		});
	return {
		content: {
			table: {
				defaultCellStyle: {
					borderColors: color,
					borderWidths: 1,
					svgStyle: {
						fontSize,
					},
				},
				defaultRowStyle: {
					height,
				},
				rows: [
					cellStore.slice(0, columns),
					cellStore.slice(1, columns + 1),
					cellStore.slice(0, columns),
				],
			},
		},
	};
};

const tableProps: Omit<TableProps, 'width'> = {
	columnWidths: [1, 1, 1], // this is just ratio.
	defaultRowStyle: {
		bgColor: 'yellow',
		height: 150,
	},

	style: {
		rowGaps: 10,
		colGaps: 10,
	},
	rows: [
		{
			style: {
				height: 30,
			},
			cells: ['Header 1', 'Header 2', 'Header3'],
		},
		[
			embeddedTableProps('red', 2),
			embeddedTableProps('blue', 3),
			embeddedTableProps('green', 4),
		],
		[
			embeddedTableProps('pink', 3),
			{
				...embeddedTableProps('cyan', 4),
				rowSpan: 2,
			},
			embeddedTableProps('lime', 2),
		],
		[embeddedTableProps('magenta', 3), embeddedTableProps('#296541', 1)],
	],
};

export const EmbeddedTableAsProps = ({ width = 900 }: { width: number }) => {
	return <SVGTable width={width} {...tableProps} />;
};

```
</details>

## Automatic height adjustment

You can automatically adjust height by setting height property.
Once the height is given, all nested tables are also automatically fit in the cells.

<div className='demo-container'>
	<EmbeddedTableAsPropsWithHeight />
</div>

<details>
<summary>Code</summary>
```typescript
import SVGTable, {
	CellProps,
	CellPropsAsObj,
	TableProps,
} from '@shjeon0730/svg-table';

const embeddedTableProps = (
	color: string,
	columns: number,
	fontSize = 12
): CellPropsAsObj => {
	const filled: CellProps = {
		style: { bgColor: color, textColor: 'white' },
		content: 'filled',
	};
	const empty: CellProps = { content: 'empty' };
	const cellStore: CellProps[] = Array(columns + 1)
		.fill('')
		.map((_, idx) => {
			if (idx === 0) {
				if (columns !== 1) {
					return embeddedTableProps(color, columns - 1, fontSize / 3);
				}
				return empty;
			}
			if (idx % 2 === 0) {
				return empty;
			}
			return filled;
		});
	return {
		content: {
			table: {
				defaultCellStyle: {
					borderColors: color,
					borderWidths: 1,
					svgStyle: {
						fontSize,
					},
				},
				rows: [
					cellStore.slice(0, columns),
					cellStore.slice(1, columns + 1),
					cellStore.slice(0, columns),
				],
			},
		},
	};
};

const tableProps: Omit<TableProps, 'width' | 'height'> = {
	columnWidths: [1, 1, 1], // this is just ratio.
	rows: [
		['Header 1', 'Header 2', 'Header3'],
		[
			embeddedTableProps('red', 2),
			embeddedTableProps('blue', 3),
			embeddedTableProps('green', 4),
		],
		[
			{ ...embeddedTableProps('pink', 3), rowSpan: 2 },
			{ ...embeddedTableProps('cyan', 4), colSpan: 2 },
		],
		[embeddedTableProps('magenta', 3), embeddedTableProps('#296541', 1)],
	],
};

export const EmbeddedTableAsPropsWithHeight = ({
	width = 900,
	height = 150, // when height is given, all nested table will be dynamically adjusted in height.
}: {
	width: number;
	height?: number;
}) => {
	return <SVGTable width={width} {...tableProps} height={height} />;
};

```
</details>

